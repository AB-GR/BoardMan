@using BoardMan.Web.Infrastructure.Extensions
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@{
    ViewBag.Title = "Subscriptions";
}

<div id="subscriptionsTable"></div>

@section Css
{
	<link href="@Url.Content("~/lib/jquery-ui-1.13.1/jquery-ui.css")" rel="stylesheet" type="text/css" />
	<link href="@Url.Content("~/lib/jtable.2.4.0/themes/metro/blue/jtable.css")" rel="stylesheet" type="text/css" />
}

@section scripts
{
	<script src="~/lib/jquery-ui-1.13.1/jquery-ui.js"></script>
    <script src="~/lib/jtable.2.4.0/jquery.jtable.js"></script>    

    <script type="text/javascript">
        $(function () {
            $('#subscriptionsTable').jtable({
                sorting: true,
				multiSorting: false,
				columnSelectable: false,
				defaultSorting: 'StartedAt ASC',
				AntiForgeryToken: '@Html.AntiForgeryTokenValue()',
				actions: {
					listAction: '@Url.Action("GetSubscriptions")'
				},
				fields: {										
					Name: {
						title: 'Name'
					},
					StartedAt: {
						title: 'Start Date'
					},
					ExpireAt: {
						title: 'End Date'
					},
					PlanName: {
						title: 'Plan'
					}
				}
            }).jtable('load');
        });    
    </script>
}